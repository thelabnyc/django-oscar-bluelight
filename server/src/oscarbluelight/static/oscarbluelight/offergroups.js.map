{"version":3,"sources":["webpack:///offergroups.js","webpack:///./src/offergroups/OfferGroupTable.tsx","webpack:///./src/offergroups.tsx","webpack:///./src/utils/api.ts","webpack:///./~/classnames/index.js"],"names":["webpackJsonp","80","module","exports","__webpack_require__","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","_createClass","defineProperties","target","props","i","length","descriptor","defineProperty","key","protoProps","staticProps","React","classNames","api_1","OfferGroupTable","_React$Component","this","_this","getPrototypeOf","state","groups","_this2","listOfferGroups","endpoint","err","resp","console","log","body","setState","group","hasOffers","offers","isSystemGroup","is_system_group","deleteClass","deleteTitle","deleteLink","name","delete_link","createElement","className","type","data-toggle","aria-expanded","href","update_link","title","offer","vouchers","itemClasses","offergroup__offer","offergroup__offer--inactive","is_available","id","details_link","priority","map","voucher","offergroup__voucher","offergroup__voucher--inactive","is_active","rows","buildOfferListItem","_this3","colSpan","data-group-slug","slug","buildSystemGroupLabel","buildOfferList","buildGroupActions","buildGroupRows","Component","default","81","react_dom_1","OfferGroupTable_1","elem","document","querySelector","component","dataset","offergroupApi","render","82","request","arguments","undefined","callback","get","set","end","83","84","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","classes","arg","argType","push","Array","isArray","apply","hasOwn","join","hasOwnProperty"],"mappings":"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","file":"offergroups.js","sourcesContent":["webpackJsonp([0],{\n\n/***/ 80:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = __webpack_require__(22);\nvar classNames = __webpack_require__(84);\nvar api_1 = __webpack_require__(82);\n__webpack_require__(83);\n\nvar OfferGroupTable = function (_React$Component) {\n    _inherits(OfferGroupTable, _React$Component);\n\n    function OfferGroupTable(props) {\n        _classCallCheck(this, OfferGroupTable);\n\n        var _this = _possibleConstructorReturn(this, (OfferGroupTable.__proto__ || Object.getPrototypeOf(OfferGroupTable)).call(this, props));\n\n        _this.state = {\n            groups: []\n        };\n        return _this;\n    }\n\n    _createClass(OfferGroupTable, [{\n        key: \"componentDidMount\",\n        value: function componentDidMount() {\n            var _this2 = this;\n\n            api_1.listOfferGroups(this.props.endpoint, function (err, resp) {\n                if (err) {\n                    console.log(err);\n                    console.log(resp);\n                    return;\n                }\n                var groups = resp.body;\n                _this2.setState({\n                    groups: groups\n                });\n            });\n        }\n    }, {\n        key: \"buildGroupActions\",\n        value: function buildGroupActions(group) {\n            var hasOffers = group.offers.length > 0;\n            var isSystemGroup = group.is_system_group;\n            var deleteClass = hasOffers || isSystemGroup ? 'disabled' : '';\n            var deleteTitle = void 0;\n            var deleteLink = void 0;\n            if (isSystemGroup) {\n                deleteTitle = 'System groups can not be deleted.';\n            } else if (hasOffers) {\n                deleteTitle = 'Remove all offers from this group to delete it.';\n            } else {\n                deleteTitle = \"Delete the \" + group.name + \" offer group\";\n                deleteLink = group.delete_link;\n            }\n            return React.createElement(\"div\", { className: \"btn-toolbar\" }, React.createElement(\"div\", { className: \"btn-group\" }, React.createElement(\"button\", { className: \"btn btn-default dropdown-toggle\", type: \"button\", \"data-toggle\": \"dropdown\", \"aria-expanded\": \"true\" }, \"Actions \", React.createElement(\"span\", { className: \"caret\" })), React.createElement(\"ul\", { className: \"dropdown-menu pull-right\" }, React.createElement(\"li\", null, React.createElement(\"a\", { href: group.update_link, title: \"Edit the details of the \" + group.name + \" offer group\" }, \"Edit\")), React.createElement(\"li\", { className: deleteClass, title: deleteTitle }, React.createElement(\"a\", { href: deleteLink }, \"Delete\")))));\n        }\n    }, {\n        key: \"buildOfferListItem\",\n        value: function buildOfferListItem(offer) {\n            if (!offer.vouchers.length) {\n                var itemClasses = classNames({\n                    'offergroup__offer': true,\n                    'offergroup__offer--inactive': !offer.is_available\n                });\n                return React.createElement(\"li\", { key: \"offer-\" + offer.id, className: itemClasses }, React.createElement(\"a\", { href: offer.details_link }, offer.name, \" (priority \", offer.priority, \")\"), React.createElement(\"span\", { className: \"label label-info\" }, \"Offer\"));\n            }\n            return offer.vouchers.map(function (voucher) {\n                var itemClasses = classNames({\n                    'offergroup__voucher': true,\n                    'offergroup__voucher--inactive': !voucher.is_active\n                });\n                return React.createElement(\"li\", { key: \"voucher-\" + voucher.id, className: itemClasses }, React.createElement(\"a\", { href: voucher.details_link }, voucher.name, \" (priority \", offer.priority, \")\"), React.createElement(\"span\", { className: \"label label-success\" }, \"Voucher\"));\n            });\n        }\n    }, {\n        key: \"buildOfferList\",\n        value: function buildOfferList(group) {\n            var self = this;\n            var rows = group.offers.map(function (offer) {\n                return self.buildOfferListItem(offer);\n            });\n            return React.createElement(\"ol\", null, rows);\n        }\n    }, {\n        key: \"buildSystemGroupLabel\",\n        value: function buildSystemGroupLabel(group) {\n            if (group.is_system_group) {\n                return React.createElement(\"span\", { className: \"label label-success\" }, \"Yes\");\n            }\n            return React.createElement(\"span\", { className: \"label label-default\" }, \"No\");\n        }\n    }, {\n        key: \"buildGroupRows\",\n        value: function buildGroupRows() {\n            var _this3 = this;\n\n            var self = this;\n            if (this.state.groups.length <= 0) {\n                return React.createElement(\"tr\", null, React.createElement(\"td\", { colSpan: 4, className: \"offergroup__empty\" }, \"No Offer Groups found.\"));\n            }\n            return this.state.groups.map(function (group) {\n                return React.createElement(\"tr\", { key: group.id, \"data-group-slug\": group.slug }, React.createElement(\"td\", null, group.name), React.createElement(\"td\", null, _this3.buildSystemGroupLabel(group)), React.createElement(\"td\", null, group.priority), React.createElement(\"td\", null, self.buildOfferList(group)), React.createElement(\"td\", null, self.buildGroupActions(group)));\n            });\n        }\n    }, {\n        key: \"render\",\n        value: function render() {\n            return React.createElement(\"table\", { className: \"table table-striped table-bordered\" }, React.createElement(\"caption\", null, React.createElement(\"i\", { className: \"icon-gift icon-large\" })), React.createElement(\"tbody\", null, React.createElement(\"tr\", null, React.createElement(\"th\", null, \"Name\"), React.createElement(\"th\", null, \"Is System Group?\"), React.createElement(\"th\", null, \"Priority\"), React.createElement(\"th\", null, \"Contains Offers\"), React.createElement(\"th\", null, \"Actions\")), this.buildGroupRows()));\n        }\n    }]);\n\n    return OfferGroupTable;\n}(React.Component);\n\nexports.default = OfferGroupTable;\n\n/***/ }),\n\n/***/ 81:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = __webpack_require__(22);\nvar react_dom_1 = __webpack_require__(29);\nvar OfferGroupTable_1 = __webpack_require__(80);\nvar main = function main() {\n    var elem = document.querySelector('#offergroup-table');\n    var component = React.createElement(OfferGroupTable_1.default, { endpoint: elem.dataset.offergroupApi });\n    react_dom_1.render(component, elem);\n};\nmain();\n\n/***/ }),\n\n/***/ 82:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar request = __webpack_require__(48);\nexports.listOfferGroups = function () {\n    var endpoint = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '/dashboard/offers/api/offergroups/';\n    var callback = arguments[1];\n\n    return request.get(endpoint).set('Accept', 'application/json').end(callback);\n};\n\n/***/ }),\n\n/***/ 83:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 84:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!\n  Copyright (c) 2016 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tclasses.push(classNames.apply(null, arg));\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tmodule.exports = classNames;\n\t} else if (true) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = function () {\n\t\t\treturn classNames;\n\t\t}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n\n\n/***/ })\n\n},[81]);\n\n\n// WEBPACK FOOTER //\n// offergroups.js","import React = require('react');\nimport classNames = require('classnames');\nimport {listOfferGroups} from '../utils/api';\nimport {IOfferGroup, IOffer} from '../utils/api.interfaces';\n\nimport './OfferGroupTable.scss';\n\n\nexport interface IProps {\n    endpoint: string;\n}\n\n\nexport interface IState {\n    groups: IOfferGroup[];\n}\n\n\nclass OfferGroupTable extends React.Component<IProps, IState> {\n    constructor (props: IProps) {\n        super(props);\n        this.state = {\n            groups: [],\n        };\n    }\n\n\n    componentDidMount () {\n        listOfferGroups(this.props.endpoint, (err, resp) => {\n            if (err) {\n                console.log(err);\n                console.log(resp);\n                return;\n            }\n\n            const groups = resp.body as IOfferGroup[];\n            this.setState({\n                groups: groups,\n            });\n        });\n    }\n\n\n    buildGroupActions (group: IOfferGroup) {\n        const hasOffers = group.offers.length > 0;\n        const isSystemGroup = group.is_system_group;\n\n        const deleteClass = (hasOffers || isSystemGroup) ? 'disabled' : '';\n\n        let deleteTitle: string;\n        let deleteLink: string;\n        if (isSystemGroup) {\n            deleteTitle = 'System groups can not be deleted.';\n        } else if (hasOffers) {\n            deleteTitle = 'Remove all offers from this group to delete it.';\n        } else {\n            deleteTitle = `Delete the ${group.name} offer group`;\n            deleteLink = group.delete_link;\n        }\n\n        return (\n            <div className=\"btn-toolbar\">\n                <div className=\"btn-group\">\n                    <button className=\"btn btn-default dropdown-toggle\" type=\"button\" data-toggle=\"dropdown\" aria-expanded=\"true\">\n                        Actions <span className=\"caret\"></span>\n                    </button>\n                    <ul className=\"dropdown-menu pull-right\">\n                        <li>\n                            <a href={group.update_link} title={`Edit the details of the ${group.name} offer group`}>Edit</a>\n                        </li>\n                        <li className={deleteClass} title={deleteTitle}>\n                            <a href={deleteLink}>Delete</a>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n        );\n    }\n\n\n    buildOfferListItem (offer: IOffer) {\n        if (!offer.vouchers.length) {\n            const itemClasses = classNames({\n                'offergroup__offer': true,\n                'offergroup__offer--inactive': !offer.is_available,\n            });\n            return (\n                <li key={`offer-${offer.id}`} className={itemClasses}>\n                    <a href={offer.details_link}>{offer.name} (priority {offer.priority})</a>\n                    <span className=\"label label-info\">Offer</span>\n                </li>\n            );\n        }\n\n        return offer.vouchers.map((voucher) => {\n            const itemClasses = classNames({\n                'offergroup__voucher': true,\n                'offergroup__voucher--inactive': !voucher.is_active,\n            });\n            return (\n                <li key={`voucher-${voucher.id}`} className={itemClasses}>\n                    <a href={voucher.details_link}>{voucher.name} (priority {offer.priority})</a>\n                    <span className=\"label label-success\">Voucher</span>\n                </li>\n            );\n        });\n    }\n\n\n    buildOfferList (group: IOfferGroup) {\n        const self = this;\n\n        const rows = group.offers.map((offer) => {\n            return self.buildOfferListItem(offer);\n        });\n\n        return (\n           <ol>{rows}</ol>\n        );\n    }\n\n\n    buildSystemGroupLabel (group: IOfferGroup) {\n        if (group.is_system_group) {\n            return (\n                <span className=\"label label-success\">Yes</span>\n            );\n        }\n\n        return (\n            <span className=\"label label-default\">No</span>\n        );\n    }\n\n\n    buildGroupRows () {\n        const self = this;\n\n        if (this.state.groups.length <= 0) {\n            return (\n                <tr>\n                    <td colSpan={4} className=\"offergroup__empty\">No Offer Groups found.</td>\n                </tr>\n            );\n        }\n\n        return this.state.groups.map((group) => {\n            return (\n                <tr key={group.id} data-group-slug={group.slug}>\n                    <td>{group.name}</td>\n                    <td>{this.buildSystemGroupLabel(group)}</td>\n                    <td>{group.priority}</td>\n                    <td>{self.buildOfferList(group)}</td>\n                    <td>{self.buildGroupActions(group)}</td>\n                </tr>\n            );\n        });\n    }\n\n\n    render () {\n        return (\n            <table className=\"table table-striped table-bordered\">\n                <caption>\n                    <i className=\"icon-gift icon-large\"></i>\n                </caption>\n                <tbody>\n                    <tr>\n                        <th>Name</th>\n                        <th>Is System Group?</th>\n                        <th>Priority</th>\n                        <th>Contains Offers</th>\n                        <th>Actions</th>\n                    </tr>\n                    {this.buildGroupRows()}\n                </tbody>\n            </table>\n        );\n    }\n}\n\nexport default OfferGroupTable;\n\n\n\n// WEBPACK FOOTER //\n// ./src/offergroups/OfferGroupTable.tsx","import React = require('react');\nimport {render} from 'react-dom';\nimport OfferGroupTable from './offergroups/OfferGroupTable';\n\n\nconst main = function() {\n    const elem = document.querySelector('#offergroup-table') as HTMLDivElement;\n    const component = (\n        <OfferGroupTable endpoint={elem.dataset.offergroupApi} />\n    );\n    render(component, elem);\n};\n\nmain();\n\n\n\n// WEBPACK FOOTER //\n// ./src/offergroups.tsx","import request = require('superagent');\n\n\nexport const listOfferGroups = function(endpoint = '/dashboard/offers/api/offergroups/', callback?: (err: any, resp: request.Response) => void) {\n    return request\n        .get(endpoint)\n        .set('Accept', 'application/json')\n        .end(callback);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/api.ts","/*!\n  Copyright (c) 2016 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tclasses.push(classNames.apply(null, arg));\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/classnames/index.js\n// module id = 84\n// module chunks = 0"],"sourceRoot":""}