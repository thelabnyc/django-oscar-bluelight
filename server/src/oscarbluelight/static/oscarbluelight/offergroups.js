webpackJsonp([0],{80:function(e,r,t){"use strict";function o(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function l(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?e:r}function s(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}var a=function(){function e(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(r,t,o){return t&&e(r.prototype,t),o&&e(r,o),r}}();Object.defineProperty(r,"__esModule",{value:!0});var n=t(22),u=t(84),i=t(82);t(83);var c=function(e){function r(e){o(this,r);var t=l(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));return t.state={groups:[]},t}return s(r,e),a(r,[{key:"componentDidMount",value:function(){var e=this;i.listOfferGroups(this.props.endpoint,function(r,t){if(r)return console.log(r),void console.log(t);var o=t.body;e.setState({groups:o})})}},{key:"buildGroupActions",value:function(e){var r=e.offers.length>0,t=e.is_system_group,o=r||t?"disabled":"",l=void 0,s=void 0;return t?l="System groups can not be deleted.":r?l="Remove all offers from this group to delete it.":(l="Delete the "+e.name+" offer group",s=e.delete_link),n.createElement("div",{className:"btn-toolbar"},n.createElement("div",{className:"btn-group"},n.createElement("button",{className:"btn btn-default dropdown-toggle",type:"button","data-toggle":"dropdown","aria-expanded":"true"},"Actions ",n.createElement("span",{className:"caret"})),n.createElement("ul",{className:"dropdown-menu pull-right"},n.createElement("li",null,n.createElement("a",{href:e.update_link,title:"Edit the details of the "+e.name+" offer group"},"Edit")),n.createElement("li",{className:o,title:l},n.createElement("a",{href:s},"Delete")))))}},{key:"buildOfferListItem",value:function(e){if(!e.vouchers.length){var r=u({offergroup__offer:!0,"offergroup__offer--inactive":!e.is_available});return n.createElement("li",{key:"offer-"+e.id,className:r},n.createElement("a",{href:e.details_link},e.name," (priority ",e.priority,")"),n.createElement("span",{className:"label label-info"},"Offer"))}return e.vouchers.map(function(r){var t=u({offergroup__voucher:!0,"offergroup__voucher--inactive":!r.is_active});return n.createElement("li",{key:"voucher-"+r.id,className:t},n.createElement("a",{href:r.details_link},r.name," (priority ",e.priority,")"),n.createElement("span",{className:"label label-success"},"Voucher"))})}},{key:"buildOfferList",value:function(e){var r=this,t=e.offers.map(function(e){return r.buildOfferListItem(e)});return n.createElement("ol",null,t)}},{key:"buildSystemGroupLabel",value:function(e){return e.is_system_group?n.createElement("span",{className:"label label-success"},"Yes"):n.createElement("span",{className:"label label-default"},"No")}},{key:"buildGroupRows",value:function(){var e=this,r=this;return this.state.groups.length<=0?n.createElement("tr",null,n.createElement("td",{colSpan:4,className:"offergroup__empty"},"No Offer Groups found.")):this.state.groups.map(function(t){return n.createElement("tr",{key:t.id,"data-group-slug":t.slug},n.createElement("td",null,t.name),n.createElement("td",null,e.buildSystemGroupLabel(t)),n.createElement("td",null,t.priority),n.createElement("td",null,r.buildOfferList(t)),n.createElement("td",null,r.buildGroupActions(t)))})}},{key:"render",value:function(){return n.createElement("table",{className:"table table-striped table-bordered"},n.createElement("caption",null,n.createElement("i",{className:"icon-gift icon-large"})),n.createElement("tbody",null,n.createElement("tr",null,n.createElement("th",null,"Name"),n.createElement("th",null,"Is System Group?"),n.createElement("th",null,"Priority"),n.createElement("th",null,"Contains Offers"),n.createElement("th",null,"Actions")),this.buildGroupRows()))}}]),r}(n.Component);r.default=c},81:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=t(22),l=t(29),s=t(80);!function(){var e=document.querySelector("#offergroup-table"),r=o.createElement(s.default,{endpoint:e.dataset.offergroupApi});l.render(r,e)}()},82:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=t(48);r.listOfferGroups=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/dashboard/offers/api/offergroups/",r=arguments[1];return o.get(e).set("Accept","application/json").end(r)}},83:function(e,r){throw new Error("Module build failed: ModuleBuildError: Module build failed: Error: Node Sass does not yet support your current environment: OS X 64-bit with Unsupported runtime (59)\nFor more information on which environments are supported please see:\nhttps://github.com/sass/node-sass/releases/tag/v4.5.3\n    at module.exports (/Users/crgwbr/Projects/tempur-sealy/thelab-foss/django-oscar-bluelight/client/node_modules/node-sass/lib/binding.js:13:13)\n    at Object.<anonymous> (/Users/crgwbr/Projects/tempur-sealy/thelab-foss/django-oscar-bluelight/client/node_modules/node-sass/lib/index.js:14:35)\n    at Module._compile (internal/modules/cjs/loader.js:654:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:665:10)\n    at Module.load (internal/modules/cjs/loader.js:566:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:506:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:498:3)\n    at Module.require (internal/modules/cjs/loader.js:598:17)\n    at require (internal/modules/cjs/helpers.js:11:18)\n    at Object.<anonymous> (/Users/crgwbr/Projects/tempur-sealy/thelab-foss/django-oscar-bluelight/client/node_modules/sass-loader/lib/loader.js:3:14)\n    at Module._compile (internal/modules/cjs/loader.js:654:30)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:665:10)\n    at Module.load (internal/modules/cjs/loader.js:566:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:506:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:498:3)\n    at Module.require (internal/modules/cjs/loader.js:598:17)\n    at require (internal/modules/cjs/helpers.js:11:18)\n    at loadLoader (/Users/crgwbr/Projects/tempur-sealy/thelab-foss/django-oscar-bluelight/client/node_modules/loader-runner/lib/loadLoader.js:13:17)\n    at iteratePitchingLoaders (/Users/crgwbr/Projects/tempur-sealy/thelab-foss/django-oscar-bluelight/client/node_modules/loader-runner/lib/LoaderRunner.js:169:2)\n    at iteratePitchingLoaders (/Users/crgwbr/Projects/tempur-sealy/thelab-foss/django-oscar-bluelight/client/node_modules/loader-runner/lib/LoaderRunner.js:165:10)\n    at /Users/crgwbr/Projects/tempur-sealy/thelab-foss/django-oscar-bluelight/client/node_modules/loader-runner/lib/LoaderRunner.js:173:18\n    at loadLoader (/Users/crgwbr/Projects/tempur-sealy/thelab-foss/django-oscar-bluelight/client/node_modules/loader-runner/lib/loadLoader.js:36:3)\n    at iteratePitchingLoaders (/Users/crgwbr/Projects/tempur-sealy/thelab-foss/django-oscar-bluelight/client/node_modules/loader-runner/lib/LoaderRunner.js:169:2)\n    at iteratePitchingLoaders (/Users/crgwbr/Projects/tempur-sealy/thelab-foss/django-oscar-bluelight/client/node_modules/loader-runner/lib/LoaderRunner.js:165:10)\n    at /Users/crgwbr/Projects/tempur-sealy/thelab-foss/django-oscar-bluelight/client/node_modules/loader-runner/lib/LoaderRunner.js:173:18\n    at loadLoader (/Users/crgwbr/Projects/tempur-sealy/thelab-foss/django-oscar-bluelight/client/node_modules/loader-runner/lib/loadLoader.js:36:3)\n    at iteratePitchingLoaders (/Users/crgwbr/Projects/tempur-sealy/thelab-foss/django-oscar-bluelight/client/node_modules/loader-runner/lib/LoaderRunner.js:169:2)\n    at runLoaders (/Users/crgwbr/Projects/tempur-sealy/thelab-foss/django-oscar-bluelight/client/node_modules/loader-runner/lib/LoaderRunner.js:362:2)\n    at NormalModule.doBuild (/Users/crgwbr/Projects/tempur-sealy/thelab-foss/django-oscar-bluelight/client/node_modules/webpack/lib/NormalModule.js:179:3)\n    at NormalModule.build (/Users/crgwbr/Projects/tempur-sealy/thelab-foss/django-oscar-bluelight/client/node_modules/webpack/lib/NormalModule.js:268:15)\n    at runLoaders (/Users/crgwbr/Projects/tempur-sealy/thelab-foss/django-oscar-bluelight/client/node_modules/webpack/lib/NormalModule.js:192:19)\n    at /Users/crgwbr/Projects/tempur-sealy/thelab-foss/django-oscar-bluelight/client/node_modules/loader-runner/lib/LoaderRunner.js:364:11\n    at /Users/crgwbr/Projects/tempur-sealy/thelab-foss/django-oscar-bluelight/client/node_modules/loader-runner/lib/LoaderRunner.js:170:18\n    at loadLoader (/Users/crgwbr/Projects/tempur-sealy/thelab-foss/django-oscar-bluelight/client/node_modules/loader-runner/lib/loadLoader.js:27:11)\n    at iteratePitchingLoaders (/Users/crgwbr/Projects/tempur-sealy/thelab-foss/django-oscar-bluelight/client/node_modules/loader-runner/lib/LoaderRunner.js:169:2)\n    at iteratePitchingLoaders (/Users/crgwbr/Projects/tempur-sealy/thelab-foss/django-oscar-bluelight/client/node_modules/loader-runner/lib/LoaderRunner.js:165:10)\n    at /Users/crgwbr/Projects/tempur-sealy/thelab-foss/django-oscar-bluelight/client/node_modules/loader-runner/lib/LoaderRunner.js:173:18\n    at loadLoader (/Users/crgwbr/Projects/tempur-sealy/thelab-foss/django-oscar-bluelight/client/node_modules/loader-runner/lib/loadLoader.js:36:3)\n    at iteratePitchingLoaders (/Users/crgwbr/Projects/tempur-sealy/thelab-foss/django-oscar-bluelight/client/node_modules/loader-runner/lib/LoaderRunner.js:169:2)\n    at iteratePitchingLoaders (/Users/crgwbr/Projects/tempur-sealy/thelab-foss/django-oscar-bluelight/client/node_modules/loader-runner/lib/LoaderRunner.js:165:10)\n    at /Users/crgwbr/Projects/tempur-sealy/thelab-foss/django-oscar-bluelight/client/node_modules/loader-runner/lib/LoaderRunner.js:173:18\n    at loadLoader (/Users/crgwbr/Projects/tempur-sealy/thelab-foss/django-oscar-bluelight/client/node_modules/loader-runner/lib/loadLoader.js:36:3)\n    at iteratePitchingLoaders (/Users/crgwbr/Projects/tempur-sealy/thelab-foss/django-oscar-bluelight/client/node_modules/loader-runner/lib/LoaderRunner.js:169:2)\n    at runLoaders (/Users/crgwbr/Projects/tempur-sealy/thelab-foss/django-oscar-bluelight/client/node_modules/loader-runner/lib/LoaderRunner.js:362:2)\n    at NormalModule.doBuild (/Users/crgwbr/Projects/tempur-sealy/thelab-foss/django-oscar-bluelight/client/node_modules/webpack/lib/NormalModule.js:179:3)\n    at NormalModule.build (/Users/crgwbr/Projects/tempur-sealy/thelab-foss/django-oscar-bluelight/client/node_modules/webpack/lib/NormalModule.js:268:15)\n    at Compilation.buildModule (/Users/crgwbr/Projects/tempur-sealy/thelab-foss/django-oscar-bluelight/client/node_modules/webpack/lib/Compilation.js:146:10)\n    at moduleFactory.create (/Users/crgwbr/Projects/tempur-sealy/thelab-foss/django-oscar-bluelight/client/node_modules/webpack/lib/Compilation.js:433:9)\n    at factory (/Users/crgwbr/Projects/tempur-sealy/thelab-foss/django-oscar-bluelight/client/node_modules/webpack/lib/NormalModuleFactory.js:253:5)\n    at applyPluginsAsyncWaterfall (/Users/crgwbr/Projects/tempur-sealy/thelab-foss/django-oscar-bluelight/client/node_modules/webpack/lib/NormalModuleFactory.js:99:14)\n    at /Users/crgwbr/Projects/tempur-sealy/thelab-foss/django-oscar-bluelight/client/node_modules/tapable/lib/Tapable.js:204:11\n    at NormalModuleFactory.params.normalModuleFactory.plugin (/Users/crgwbr/Projects/tempur-sealy/thelab-foss/django-oscar-bluelight/client/node_modules/webpack/lib/CompatibilityPlugin.js:52:5)\n    at NormalModuleFactory.applyPluginsAsyncWaterfall (/Users/crgwbr/Projects/tempur-sealy/thelab-foss/django-oscar-bluelight/client/node_modules/tapable/lib/Tapable.js:208:13)\n    at resolver (/Users/crgwbr/Projects/tempur-sealy/thelab-foss/django-oscar-bluelight/client/node_modules/webpack/lib/NormalModuleFactory.js:74:11)\n    at process.nextTick (/Users/crgwbr/Projects/tempur-sealy/thelab-foss/django-oscar-bluelight/client/node_modules/webpack/lib/NormalModuleFactory.js:205:8)\n    at process._tickCallback (internal/process/next_tick.js:176:11)")},84:function(e,r,t){var o,l;/*!
  Copyright (c) 2016 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";function t(){for(var e=[],r=0;r<arguments.length;r++){var o=arguments[r];if(o){var l=typeof o;if("string"===l||"number"===l)e.push(o);else if(Array.isArray(o))e.push(t.apply(null,o));else if("object"===l)for(var a in o)s.call(o,a)&&o[a]&&e.push(a)}}return e.join(" ")}var s={}.hasOwnProperty;void 0!==e&&e.exports?e.exports=t:(o=[],void 0!==(l=function(){return t}.apply(r,o))&&(e.exports=l))}()}},[81]);
//# sourceMappingURL=offergroups.js.map